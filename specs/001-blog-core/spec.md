# Feature Specification: 개발자 블로그 핵심 기능

**Feature Branch**: `main`
**Created**: 2026-01-08
**Status**: Draft
**Input**: User description: "Astro 5.x + React 19.x + TypeScript 5.x + TailwindCSS 4.x + Storybook 8.x + Biome + MDX + Shiki + Giscus. 컴포넌트 분류: React(.tsx/Storybook대상) - SearchModal, ThemeToggle, Button(onClick필요시). Astro(.astro/JS 0) - Comments(Giscus래퍼), Card, Header, Footer, BaseLayout. 기능요구사항: FR-001 포스트목록(정렬/필터/페이지네이션), FR-002 포스트상세(MDX+Shiki코드하이라이팅+TOC+읽기시간), FR-003 Giscus댓글(.astro로 구현, data-theme=\"preferred_color_scheme\"), FR-004 검색(React, Cmd+K), FR-005 다크모드(React, localStorage), FR-006 SEO(메타태그/OG/sitemap/RSS). Shiki설정: themes {light:'github-light', dark:'github-dark'}, wrap:true. 성능목표: LCP<2.5s, FID<100ms, CLS<0.1."

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 포스트 읽기 (Priority: P1)

개발자가 블로그에 방문하여 포스트 목록을 둘러보고, 관심 있는 포스트를 클릭하여 전체 내용을 읽고, 코드 예제를 확인하며, 필요시 댓글을 통해 질문하거나 피드백을 남길 수 있습니다.

**Why this priority**: 블로그의 핵심 가치는 콘텐츠 소비입니다. 이 기능 없이는 블로그가 존재할 이유가 없습니다.

**Independent Test**: 포스트 목록 페이지를 열고 포스트를 클릭하여 상세 페이지로 이동하고, 코드 하이라이팅과 목차를 확인하고, 댓글 섹션을 확인할 수 있으면 완전히 테스트됩니다.

**Acceptance Scenarios**:

1. **Given** 사용자가 블로그 홈페이지에 접속했을 때, **When** 포스트 목록을 스크롤하면, **Then** 모든 포스트가 제목, 요약, 날짜와 함께 표시됩니다.
2. **Given** 포스트 목록 페이지에서, **When** 특정 포스트를 클릭하면, **Then** 해당 포스트의 전체 내용이 읽기 좋은 형식으로 표시됩니다.
3. **Given** 포스트 상세 페이지에서, **When** 코드 블록을 확인하면, **Then** 문법 강조가 적용된 코드가 보입니다.
4. **Given** 포스트 상세 페이지에서, **When** 목차(TOC)를 클릭하면, **Then** 해당 섹션으로 자동 스크롤됩니다.
5. **Given** 포스트 상세 페이지 하단에서, **When** 댓글 섹션을 확인하면, **Then** GitHub 계정으로 댓글을 작성할 수 있는 인터페이스가 표시됩니다.

---

### User Story 2 - 포스트 검색 및 필터링 (Priority: P2)

개발자가 특정 주제나 키워드로 포스트를 빠르게 찾기 위해 검색 기능을 사용하거나, 카테고리/태그로 포스트를 필터링하여 원하는 콘텐츠에 쉽게 접근할 수 있습니다.

**Why this priority**: 블로그에 포스트가 쌓이면 검색과 필터링이 필수적입니다. 하지만 초기 MVP에서는 포스트가 적어 덜 중요합니다.

**Independent Test**: 검색 모달을 열고(Cmd+K) 키워드를 입력하여 관련 포스트가 표시되는지, 카테고리/태그로 필터링하여 해당 포스트만 표시되는지 확인할 수 있으면 완전히 테스트됩니다.

**Acceptance Scenarios**:

1. **Given** 사용자가 블로그의 어느 페이지에서든, **When** Cmd+K(Mac) 또는 Ctrl+K(Windows)를 누르면, **Then** 검색 모달이 열립니다.
2. **Given** 검색 모달이 열렸을 때, **When** 키워드를 입력하면, **Then** 실시간으로 관련 포스트 제목과 요약이 표시됩니다.
3. **Given** 검색 결과에서, **When** 포스트를 클릭하면, **Then** 해당 포스트 상세 페이지로 이동합니다.
4. **Given** 포스트 목록 페이지에서, **When** 특정 카테고리나 태그를 클릭하면, **Then** 해당 카테고리/태그의 포스트만 필터링되어 표시됩니다.
5. **Given** 포스트 목록 페이지에서, **When** 정렬 옵션(최신순, 오래된순)을 선택하면, **Then** 포스트가 해당 기준으로 재정렬됩니다.

---

### User Story 3 - 읽기 환경 커스터마이징 (Priority: P3)

개발자가 자신의 선호도에 맞게 다크 모드/라이트 모드를 전환하여 편안한 읽기 환경을 조성하고, 다음 방문 시에도 설정이 유지되어 일관된 경험을 제공받습니다.

**Why this priority**: 사용자 경험을 향상시키지만, 콘텐츠 소비에 필수적이지는 않습니다.

**Independent Test**: 테마 토글 버튼을 클릭하여 다크/라이트 모드가 전환되고, 페이지를 새로고침해도 설정이 유지되는지 확인할 수 있으면 완전히 테스트됩니다.

**Acceptance Scenarios**:

1. **Given** 사용자가 블로그에 처음 방문했을 때, **When** 페이지가 로드되면, **Then** 시스템 설정에 따라 다크 모드 또는 라이트 모드가 적용됩니다.
2. **Given** 블로그 어느 페이지에서든, **When** 테마 토글 버튼을 클릭하면, **Then** 즉시 다크/라이트 모드가 전환됩니다.
3. **Given** 테마를 변경한 후, **When** 페이지를 새로고침하거나 다른 페이지로 이동하면, **Then** 선택한 테마가 유지됩니다.
4. **Given** 테마를 변경한 후, **When** 댓글 섹션을 확인하면, **Then** 댓글 UI도 선택한 테마에 맞게 표시됩니다.
5. **Given** 사용자가 다음 날 다시 방문했을 때, **When** 블로그를 열면, **Then** 이전에 선택한 테마가 자동으로 적용됩니다.

---

### User Story 4 - SEO 및 공유 (Priority: P2)

블로그 포스트가 검색 엔진에서 잘 노출되고, 소셜 미디어에 공유될 때 적절한 미리보기 이미지와 설명이 표시되어 더 많은 독자에게 도달할 수 있습니다.

**Why this priority**: 블로그의 장기적 성장에 필수적이지만, 초기 콘텐츠 작성 단계에서는 덜 중요합니다.

**Independent Test**: 검색 엔진 크롤러 시뮬레이터로 메타 태그를 확인하고, 소셜 미디어 공유 미리보기 도구로 OG 태그를 확인하고, RSS 피드를 구독할 수 있으면 완전히 테스트됩니다.

**Acceptance Scenarios**:

1. **Given** 포스트가 게시되었을 때, **When** 검색 엔진 봇이 크롤링하면, **Then** 적절한 제목, 설명, 키워드 메타 태그가 제공됩니다.
2. **Given** 포스트 URL이 소셜 미디어에 공유될 때, **When** 미리보기가 생성되면, **Then** 포스트 제목, 요약, 대표 이미지가 표시됩니다.
3. **Given** 블로그가 운영 중일 때, **When** RSS 피드 URL에 접속하면, **Then** 모든 포스트의 RSS 피드가 제공됩니다.
4. **Given** 사이트맵이 생성되었을 때, **When** 검색 엔진이 sitemap.xml을 요청하면, **Then** 모든 페이지 URL이 포함된 사이트맵이 제공됩니다.

---

### Edge Cases

- **포스트가 없을 때**: 포스트 목록 페이지에 "아직 포스트가 없습니다" 메시지를 표시합니다.
- **검색 결과가 없을 때**: "검색 결과가 없습니다" 메시지를 표시합니다.
- **매우 긴 포스트**: 목차(TOC)가 화면 높이를 초과하면 스크롤 가능하게 합니다.
- **댓글 로딩 실패**: GitHub Discussions를 불러올 수 없을 때 적절한 에러 메시지를 표시합니다.
- **매우 많은 포스트(100개 이상)**: 페이지네이션으로 페이지당 10-20개씩 표시하여 성능을 유지합니다.
- **코드 블록이 매우 긴 경우**: 가로 스크롤 또는 줄바꿈 옵션을 제공합니다.
- **이미지 로딩 실패**: 대체 텍스트를 표시하고 레이아웃이 깨지지 않도록 합니다.

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 시스템은 포스트 목록을 표시하고, 사용자가 최신순/오래된순으로 정렬하고, 카테고리/태그로 필터링하고, 페이지네이션으로 탐색할 수 있어야 합니다.
- **FR-002**: 시스템은 포스트 상세 페이지에서 MDX 콘텐츠를 렌더링하고, 코드 블록에 문법 강조를 적용하고, 자동 생성된 목차(TOC)를 제공하고, 예상 읽기 시간을 표시해야 합니다.
- **FR-003**: 시스템은 포스트 하단에 GitHub Discussions 기반 댓글 위젯을 표시하고, 현재 테마(다크/라이트)에 맞게 댓글 UI를 조정해야 합니다.
- **FR-004**: 시스템은 키보드 단축키(Cmd+K 또는 Ctrl+K)로 검색 모달을 열고, 사용자가 입력한 키워드로 포스트 제목과 내용을 실시간 검색하여 결과를 표시해야 합니다.
- **FR-005**: 시스템은 사용자가 다크 모드와 라이트 모드를 전환할 수 있는 토글 버튼을 제공하고, 선택한 테마를 로컬 저장소에 저장하여 다음 방문 시에도 유지해야 합니다.
- **FR-006**: 시스템은 각 페이지에 적절한 메타 태그(제목, 설명, 키워드)와 Open Graph 태그를 생성하고, sitemap.xml과 RSS 피드를 제공해야 합니다.
- **FR-007**: 시스템은 코드 블록에 라이트 모드용 'github-light' 테마와 다크 모드용 'github-dark' 테마를 적용하고, 긴 코드 라인을 자동으로 줄바꿈해야 합니다.
- **FR-008**: 시스템은 포스트 목록과 상세 페이지에서 이미지를 최적화하고 지연 로딩하여 초기 로딩 속도를 개선해야 합니다.

### Key Entities

- **Post (포스트)**: 블로그 글의 기본 단위. 제목, 본문(MDX), 요약, 작성일, 수정일, 카테고리, 태그, 대표 이미지, 작성자 정보를 포함합니다.
- **Category (카테고리)**: 포스트를 주제별로 분류하는 상위 분류 체계. 이름, 슬러그, 설명을 포함합니다.
- **Tag (태그)**: 포스트의 세부 주제를 나타내는 키워드. 이름, 슬러그를 포함합니다.
- **Theme Preference (테마 설정)**: 사용자의 다크/라이트 모드 선호도. 'dark', 'light', 'auto'(시스템 설정 따름) 값을 가집니다.

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 사용자가 블로그 홈페이지에서 원하는 포스트를 찾아 읽기 시작하기까지 30초 이내에 완료할 수 있어야 합니다.
- **SC-002**: 페이지 로딩 성능이 Largest Contentful Paint (LCP) 2.5초 이하, First Input Delay (FID) 100ms 이하, Cumulative Layout Shift (CLS) 0.1 이하를 달성해야 합니다.
- **SC-003**: 검색 기능이 사용자 입력 후 200ms 이내에 결과를 표시하여 즉각적인 피드백을 제공해야 합니다.
- **SC-004**: 포스트 상세 페이지에서 코드 블록이 읽기 쉽게 문법 강조가 적용되고, 사용자가 코드를 복사하여 사용할 수 있어야 합니다.
- **SC-005**: 다크 모드 전환이 즉시(100ms 이내) 이루어지고, 새로고침 후에도 사용자의 선택이 유지되어야 합니다.
- **SC-006**: 검색 엔진에서 "블로그 제목 + 주제" 검색 시 상위 10위 내에 노출되어야 합니다 (SEO 최적화 후 3개월 기준).
- **SC-007**: 소셜 미디어에 공유된 포스트 링크의 90% 이상이 올바른 미리보기(제목, 설명, 이미지)를 표시해야 합니다.
- **SC-008**: 포스트당 평균 댓글 수가 1개 이상이어야 합니다 (운영 6개월 후 기준, 커뮤니티 참여도 측정).

## Assumptions

- 블로그 콘텐츠는 마크다운(MDX) 형식으로 작성되며, Git 저장소에서 관리됩니다.
- 포스트는 빌드 시점에 정적 페이지로 생성되므로 실시간 업데이트가 아닌 빌드 후 배포 방식을 따릅니다.
- 댓글 기능은 GitHub 계정을 보유한 사용자만 사용할 수 있습니다 (개발자 대상 블로그이므로 합리적인 가정).
- 검색 기능은 클라이언트 사이드에서 작동하며, 포스트 메타데이터(제목, 요약, 태그)를 기반으로 검색합니다.
- 블로그 방문자의 80% 이상이 데스크톱 환경에서 접속하지만, 모바일 반응형 디자인도 제공합니다.
- 이미지는 빌드 시점에 최적화되며, WebP 형식을 지원하는 브라우저에는 WebP로, 그렇지 않은 경우 JPEG/PNG로 제공됩니다.
- RSS 피드는 최신 20개 포스트만 포함합니다.
- 페이지네이션은 페이지당 10개 포스트를 기본값으로 합니다.
